<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>About Soundcards | MythWeaver</title>
<meta name="keywords" content="Hardware, Retro, Computers">
<meta name="description" content="Sound systems in computers have fascinated me for years, I have done countless research on them, but my knowledge is still very superficial. Every year, at certain times, I do research about old computers, sound cards, graphics cards, games, and learn over and over again what I know.
I worked a lot on sound cards, especially on Sound Blaster and its models. Although I know many fine details, I have learned many things wrongly due to the information pollution on the internet and the indirect explanation of some expressions instead of the correct ones.">
<meta name="author" content="Bjørn">
<link rel="canonical" href="https://canonical.url/to/page">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.js" onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://thorskald.github.io/assets/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://thorskald.github.io/assets/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://thorskald.github.io/assets/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://thorskald.github.io/assets/apple-touch-icon.png">
<link rel="mask-icon" href="https://thorskald.github.io/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="About Soundcards" />
<meta property="og:description" content="Sound systems in computers have fascinated me for years, I have done countless research on them, but my knowledge is still very superficial. Every year, at certain times, I do research about old computers, sound cards, graphics cards, games, and learn over and over again what I know.
I worked a lot on sound cards, especially on Sound Blaster and its models. Although I know many fine details, I have learned many things wrongly due to the information pollution on the internet and the indirect explanation of some expressions instead of the correct ones." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://thorskald.github.io/posts/about-soundcards/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-01T01:00:00+00:00" />
<meta property="article:modified_time" content="2022-11-01T01:00:00+00:00" /><meta property="og:site_name" content="MythWeaver | Systems Architect" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="About Soundcards"/>
<meta name="twitter:description" content="Sound systems in computers have fascinated me for years, I have done countless research on them, but my knowledge is still very superficial. Every year, at certain times, I do research about old computers, sound cards, graphics cards, games, and learn over and over again what I know.
I worked a lot on sound cards, especially on Sound Blaster and its models. Although I know many fine details, I have learned many things wrongly due to the information pollution on the internet and the indirect explanation of some expressions instead of the correct ones."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://thorskald.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "About Soundcards",
      "item": "https://thorskald.github.io/posts/about-soundcards/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "About Soundcards",
  "name": "About Soundcards",
  "description": "Sound systems in computers have fascinated me for years, I have done countless research on them, but my knowledge is still very superficial. Every year, at certain times, I do research about old computers, sound cards, graphics cards, games, and learn over and over again what I know.\nI worked a lot on sound cards, especially on Sound Blaster and its models. Although I know many fine details, I have learned many things wrongly due to the information pollution on the internet and the indirect explanation of some expressions instead of the correct ones.",
  "keywords": [
    "Hardware", "Retro", "Computers"
  ],
  "articleBody": "Sound systems in computers have fascinated me for years, I have done countless research on them, but my knowledge is still very superficial. Every year, at certain times, I do research about old computers, sound cards, graphics cards, games, and learn over and over again what I know.\nI worked a lot on sound cards, especially on Sound Blaster and its models. Although I know many fine details, I have learned many things wrongly due to the information pollution on the internet and the indirect explanation of some expressions instead of the correct ones. Here I wanted to bring together the information that I learned wrongly.\nThe first sound card for IBM PC was produced by AdLib in 1987 and found its first support in the gaming world with King’s Quest IV released in 1988. Now this sound card, called AdLib, works with a technique called Frequency Modulation (FM), which produces various musical instrument sounds. It does this with a chip named YM-3812 manufactured by Yamaha. With this chip, it is possible to produce a total of 11 different instrument sounds and play them simultaneously.\nUsers who are accustomed to the familiar sounds of PCs were amazed when they heard AdLib, of course, but this sound produced via FM is actually quite artificial and unsatisfying to the ear. The digitized sound feature produced by the technique called PCM (Pulse-code Modulation) is not available on this card.\nIs the Frequency Modulation technique now used in other computers of that period? (Amiga and C-64) Paula used in Amiga can play 8-bit 4-channel PCM audio at 27/28 kHz. In Commodore 64, on the other hand, with a later discovered feature of the SID chip, a 4th channel can play digitized sounds by gaining a 4-bit PCM feature. The technique of the remaining 3 channel voice synthesizer is not very clear.\nIn my opinion, both Commodore 64’s SID chip and Amiga’s Paula produce a much louder, sharper, fuller and higher quality sound than AdLib.\nIn 1989, Creative Labs releases the Sound Blaster sound card compatible with AdLib. The chip used for FM sounds is the same YM-3812, but it has added a feature that can play 8-bit mono sounds at 23 kHz and record 8-bit sounds at 11 kHz with the DSP (Digital Sound Processor - mostly mixed with Digital Signal Processor) added to the card. Digitized sound effects and speeches were only possible with this feature. This is how the understanding of music, which is accepted as a standard in the game world, began with FM and sounds with DSP.\nLooking at the sound quality of the Sound Blaster, it can be seen that it is slightly below the Amiga. First of all, it is mono and the sample quality is 23 kHz. Unfortunately, the sound that comes from behind (hisss) in digitized sounds has always been disturbing.\nIn this period, there was also a MIDI-compatible module called the Roland MT-32 Multi-Timbre Sound Module, which could hardly be called a sound card. This module, which was released in 1987, uses the Linear Arithmetic Synthesis method, which is a derivative of sample based synthesis (which will enter our lives with Gravis Ultrasound in 1992).\nAs far as I understand, there are three techniques so far;\n1- Instrument sounds produced by Frequency Modulation (FM). It’s not very high quality, but it’s okay.\n2- Digitizing real records with PCM. Powerful but low quality so far\n3- Sample based synthesis, playing pre-recorded samples without producing sounds with a chip. Not digitizing, mind here. Very high quality but only existing instrument sounds are not very suitable for producing sound effects.\nIn 1991 Creative Labs releases the Sound Blaster Pro. FM is used again, but this time 2 YM-3812s are used for stereo. PCM’s quality is increased from mono 44.1 kHz to stereo 22.05 kHz. (Still stereo playback quality is below Amiga) In 1992 this board is updated and instead of YM-3812 OPL3 (YM-262) is used. It enables stereo playback of FM-generated sounds on a single chip and is fully backwards compatible with Adlib.\nAt the beginning of 1992, AdLib Gold was launched. This is actually a card ahead of its time, whose full value cannot be understood. First of all, there is backward compatibility with OPL3 and FM. With the feature called 2x Oversampling, OPL3 greatly increases the sound output power. The real innovations are on the PCM front. It has a 12-bit digital sound sample feature. That means crystal clear sound back then. The ability to sample 44.1 kHz stereo shows for the first time that a PC sound card produces cleaner sound than the Amiga. Although FM music production is backward compatible, the lack of Sound Blaster compatibility in PCM quickly puts the card out of the race. I know there is a game called Dune that supports this card. There is also a Surround Sound module installed on the card, but I don’t know if there is a game or program that uses it.\nIn June 1992, Creative introduces the Sound Blaster 16. OPL3 is used for FMand enters the 16-bit sampling PC world with this card. The card finds support in a short time as it is fully backward compatible. In addition to these features, we introduce Sample-Based synthesis with the Wave Blaster mounted on the card.\nSample Based Synthesis (Creative Labs incorrectly uses the term Wave Table Synthesis instead) simply means using recorded samples of instrument sounds stored in RAM or ROM memory, without being produced in a chip. As with the Roland MT-32. In other words, the Frequency Modulatin technique, which has been used since 1987, is now history. Producing sounds inside the chip is an easy method, but the similarity of the sounds to the real ones is not as clear as the recorded samples.\nWave Blaster and Sound Blaster 16 have this feature. The card, which came with 4 MByte ROM before, later comes with 2 MByte ROM and there are recorded instrument sounds in this ROM.\nGravis Ultrasound is released in 1992. This card does not use Frequency Modulation. It uses Sample Based synthesis. Sample sets are provided in .PAT files loaded with software, not in memory. There is RAM on the card that starts from 256 KByte and can be increased up to 1 MByte.\nAt first glance, this card, which does not have AdLib and Sound Blaster compatibility, was supported by some games (Miles Sound Systems) at the time. Although backward compatibility is provided by emulation, the widespread use of DOS Extender at that time brings some incompatibilities.\nHowever, the card is highly popular in PC demoscene as it can play Amiga’s module files in high quality. Realizing this, Gravis is said to have distributed 6000 sound cards to the sceners.1\nThe fact that it can give this success in module files with 32 mono and 16 stereo channels. Until then, other cards have 1 or 2 channels, while Gravis is setting the bar quite high at this point. It makes excellent use of the GF1 processor and features in the .mod format. as follows; The .mod file stores the samples and note information inside the file. While sound cards such as Sound Blaster have to lower the quality a little in order to play these files properly, Gravis Ultrasound can copy the samples in the .mod file to its own RAM and play them directly in their original quality without downmixing. This makes it a highly preferred card for demoscene, as it also reduces the load on the computer’s CPU (even almost to zero).\nSOUND BLASTER DSP (Digital Sound Processor) VERSIONS Sound Card DSP Version Sound Blaster 1 1.05 Sound Blaster 2 2.01 Sound Blaster Pro (Old) 3.0 Sound Blaster Pro (New) 3.01 (1991) Sound Blaster Pro (New) 3.02 (1992) Sound Blaster 16 4.05 These are the sound cards used in the gaming world until Windows 95 came along. There is the Sound Blaster AWE series, which is produced not for games but for more professional purposes. With its EMU8000 processor and SoundFonts, the card based on sample based synthesis carries slots for expandable memory. Although Sound Blaster 16 is compatible, it is known that it does not experience some problems.\nhttps://en.wikipedia.org/wiki/Gravis_Ultrasound_ ↩︎\n",
  "wordCount" : "1366",
  "inLanguage": "en",
  "datePublished": "2022-11-01T01:00:00Z",
  "dateModified": "2022-11-01T01:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Bjørn"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://thorskald.github.io/posts/about-soundcards/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "MythWeaver",
    "logo": {
      "@type": "ImageObject",
      "url": "https://thorskald.github.io/assets/favicon.ico"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://thorskald.github.io/" accesskey="h" title="Blog of Bjørn Heimdall (Alt + H)">
                <img src="https://thorskald.github.io/assets/005-potion.svg" alt="" aria-label="logo"
                    height="35">Blog of Bjørn Heimdall</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://thorskald.github.io/about/" title="About Me">
                    <span>About Me</span>
                </a>
            </li>
            <li>
                <a href="https://thorskald.github.io/posts/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://thorskald.github.io/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://thorskald.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://thorskald.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://discord.gg/Gr86cdaZKh" title="Discord">
                    <span>Discord</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      About Soundcards
    </h1>
    <div class="post-meta"><span title='2022-11-01 01:00:00 +0000 +0000'>1 November 2022</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;1366 words&nbsp;·&nbsp;Bjørn

</div>
  </header> 
  <div class="post-content"><p>Sound systems in computers have fascinated me for years, I have done countless research on them, but my knowledge is still very superficial. Every year, at certain times, I do research about old computers, sound cards, graphics cards, games, and learn over and over again what I know.</p>
<p>I worked a lot on sound cards, especially on Sound Blaster and its models. Although I know many fine details, I have learned many things wrongly due to the information pollution on the internet and the indirect explanation of some expressions instead of the correct ones. Here I wanted to bring together the information that I learned wrongly.</p>
<p>The first sound card for IBM PC was produced by AdLib in 1987 and found its first support in the gaming world with King&rsquo;s Quest IV released in 1988. Now this sound card, called AdLib, works with a technique called Frequency Modulation (FM), which produces various musical instrument sounds. It does this with a chip named YM-3812 manufactured by Yamaha. With this chip, it is possible to produce a total of 11 different instrument sounds and play them simultaneously.</p>
<p>Users who are accustomed to the familiar sounds of PCs were amazed when they heard AdLib, of course, but this sound produced via FM is actually quite artificial and unsatisfying to the ear. The digitized sound feature produced by the technique called PCM (Pulse-code Modulation) is not available on this card.</p>
<p>Is the Frequency Modulation technique now used in other computers of that period? (Amiga and C-64) Paula used in Amiga can play 8-bit 4-channel PCM audio at 27/28 kHz. In Commodore 64, on the other hand, with a later discovered feature of the SID chip, a 4th channel can play digitized sounds by gaining a 4-bit PCM feature. The technique of the remaining 3 channel voice synthesizer is not very clear.</p>
<p>In my opinion, both Commodore 64&rsquo;s SID chip and Amiga&rsquo;s Paula produce a much louder, sharper, fuller and higher quality sound than AdLib.</p>
<p>In 1989, Creative Labs releases the Sound Blaster sound card compatible with AdLib. The chip used for FM sounds is the same YM-3812, but it has added a feature that can play 8-bit mono sounds at 23 kHz and record 8-bit sounds at 11 kHz with the DSP (Digital Sound Processor - mostly mixed with Digital Signal Processor) added to the card. Digitized sound effects and speeches were only possible with this feature. This is how the understanding of music, which is accepted as a standard in the game world, began with FM and sounds with DSP.</p>
<p>Looking at the sound quality of the Sound Blaster, it can be seen that it is slightly below the Amiga. First of all, it is mono and the sample quality is 23 kHz. Unfortunately, the sound that comes from behind (hisss) in digitized sounds has always been disturbing.</p>
<p>In this period, there was also a MIDI-compatible module called the Roland MT-32 Multi-Timbre Sound Module, which could hardly be called a sound card. This module, which was released in 1987, uses the Linear Arithmetic Synthesis method, which is a derivative of sample based synthesis (which will enter our lives with Gravis Ultrasound in 1992).</p>
<p>As far as I understand, there are three techniques so far;</p>
<p>1- Instrument sounds produced by Frequency Modulation (FM). It&rsquo;s not very high quality, but it&rsquo;s okay.</p>
<p>2- Digitizing real records with PCM. Powerful but low quality so far</p>
<p>3- Sample based synthesis, playing pre-recorded samples without producing sounds with a chip. Not digitizing, mind here. Very high quality but only existing instrument sounds are not very suitable for producing sound effects.</p>
<p>In 1991 Creative Labs releases the Sound Blaster Pro. FM is used again, but this time 2 YM-3812s are used for stereo. PCM&rsquo;s quality is increased from mono 44.1 kHz to stereo 22.05 kHz. (Still stereo playback quality is below Amiga) In 1992 this board is updated and instead of YM-3812 OPL3 (YM-262) is used. It enables stereo playback of FM-generated sounds on a single chip and is fully backwards compatible with Adlib.</p>
<p>At the beginning of 1992, AdLib Gold was launched. This is actually a card ahead of its time, whose full value cannot be understood. First of all, there is backward compatibility with OPL3 and FM. With the feature called 2x Oversampling, OPL3 greatly increases the sound output power. The real innovations are on the PCM front. It has a 12-bit digital sound sample feature. That means crystal clear sound back then. The ability to sample 44.1 kHz stereo shows for the first time that a PC sound card produces cleaner sound than the Amiga. Although FM music production is backward compatible, the lack of Sound Blaster compatibility in PCM quickly puts the card out of the race. I know there is a game called Dune that supports this card. There is also a Surround Sound module installed on the card, but I don&rsquo;t know if there is a game or program that uses it.</p>
<p>In June 1992, Creative introduces the Sound Blaster 16. OPL3 is used for FMand enters the 16-bit sampling PC world with this card. The card finds support in a short time as it is fully backward compatible. In addition to these features, we introduce Sample-Based synthesis with the Wave Blaster mounted on the card.</p>
<p>Sample Based Synthesis (Creative Labs incorrectly uses the term Wave Table Synthesis instead) simply means using recorded samples of instrument sounds stored in RAM or ROM memory, without being produced in a chip. As with the Roland MT-32. In other words, the Frequency Modulatin technique, which has been used since 1987, is now history. Producing sounds inside the chip is an easy method, but the similarity of the sounds to the real ones is not as clear as the recorded samples.</p>
<p>Wave Blaster and Sound Blaster 16 have this feature. The card, which came with 4 MByte ROM before, later comes with 2 MByte ROM and there are recorded instrument sounds in this ROM.</p>
<p>Gravis Ultrasound is released in 1992. This card does not use Frequency Modulation. It uses Sample Based synthesis. Sample sets are provided in .PAT files loaded with software, not in memory. There is RAM on the card that starts from 256 KByte and can be increased up to 1 MByte.</p>
<p>At first glance, this card, which does not have AdLib and Sound Blaster compatibility, was supported by some games (Miles Sound Systems) at the time. Although backward compatibility is provided by emulation, the widespread use of DOS Extender at that time brings some incompatibilities.</p>
<p>However, the card is highly popular in PC demoscene as it can play Amiga&rsquo;s module files in high quality. Realizing this, Gravis is said to have distributed 6000 sound cards to the sceners.<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<p>The fact that it can give this success in module files with 32 mono and 16 stereo channels. Until then, other cards have 1 or 2 channels, while Gravis is setting the bar quite high at this point. It makes excellent use of the GF1 processor and features in the .mod format. as follows; The .mod file stores the samples and note information inside the file. While sound cards such as Sound Blaster have to lower the quality a little in order to play these files properly, Gravis Ultrasound can copy the samples in the .mod file to its own RAM and play them directly in their original quality without downmixing. This makes it a highly preferred card for demoscene, as it also reduces the load on the computer&rsquo;s CPU (even almost to zero).</p>
<h2 id="sound-blaster-dsp-digital-sound-processor-versions">SOUND BLASTER DSP (Digital Sound Processor) VERSIONS<a hidden class="anchor" aria-hidden="true" href="#sound-blaster-dsp-digital-sound-processor-versions">#</a></h2>
<table>
<thead>
<tr>
<th>Sound Card</th>
<th style="text-align:right">DSP Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>Sound Blaster 1</td>
<td style="text-align:right">1.05</td>
</tr>
<tr>
<td>Sound Blaster 2</td>
<td style="text-align:right">2.01</td>
</tr>
<tr>
<td>Sound Blaster Pro (Old)</td>
<td style="text-align:right">3.0</td>
</tr>
<tr>
<td>Sound Blaster Pro (New)</td>
<td style="text-align:right">3.01 (1991)</td>
</tr>
<tr>
<td>Sound Blaster Pro (New)</td>
<td style="text-align:right">3.02 (1992)</td>
</tr>
<tr>
<td>Sound Blaster 16</td>
<td style="text-align:right">4.05</td>
</tr>
</tbody>
</table>
<p>These are the sound cards used in the gaming world until Windows 95 came along. There is the Sound Blaster AWE series, which is produced not for games but for more professional purposes. With its EMU8000 processor and SoundFonts, the card based on sample based synthesis carries slots for expandable memory. Although Sound Blaster 16 is compatible, it is known that it does not experience some problems.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p><a href="https://en.wikipedia.org/wiki/Gravis">https://en.wikipedia.org/wiki/Gravis</a>_Ultrasound_&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://thorskald.github.io/tags/hardware/">Hardware</a></li>
      <li><a href="https://thorskald.github.io/tags/retro/">Retro</a></li>
      <li><a href="https://thorskald.github.io/tags/computers/">Computers</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://thorskald.github.io/posts/darkest-garfield-story-ever/">
    <span class="title">« Prev</span>
    <br>
    <span>Darkest Garfield Story Ever</span>
  </a>
  <a class="next" href="https://thorskald.github.io/posts/a-brief-history-of-beos/">
    <span class="title">Next »</span>
    <br>
    <span>A Brief History of BeOS</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2017 - 2023 by <a href="https://thorskald.github.io/"> Bjørn Heimdall</a></span>
<span>
 <b>·</b> Powered by
      <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> v 0.112.7 &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>. 💙
</span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
